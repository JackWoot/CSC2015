package com.example.gomotion;


public abstract class Exercise
{
	//Online Excercises
	protected Integer ID;
	protected Integer userID;
	protected boolean shouldShare;
	
	//All excercises
	protected int timestamp;
	
	
	//If id isn't null then the record has been stored on the server
	public boolean isStored()
	{
		return id != null;
	}
	
	//Get a record from the server to view with the app
	public abstract void getFromDatabase(int id);
	
	//Save a record, ID is generated by MySql, returns whether successful
	protected abstract boolean saveToDatabase();
	
	//Try to save to the database, cache in case of failure
	public void tryUpload(int userID)
	{
		//Set UserID (Facebook ID)
		this.userID = userID;
		
		//Save to database, cache on failure
		if(!saveToDatabase())
		{
			Cache.append(this);
		}
	}
	
	public abstract void loadFromFile(StreamReader reader);
	public abstract void readFromFile(StreamWriter writer);
}
